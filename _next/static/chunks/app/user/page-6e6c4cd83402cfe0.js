(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{2379:function(t,e,n){Promise.resolve().then(n.bind(n,4864))},4864:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return U}});var i=n(1595),r=n(3146),o=n(4654),a=n(9376),c=n(8582),l=n(156),s=n(2265),d=n(3996),u=n(1691),h=n(5002),f=n(3626),p=n(4013),v=n(5211),Z=n(9507),m=n(7468),g=n(6620);function y(t){let{open:e,streamerAccount:n,onClose:a,onUnsubscribe:c}=t,s=(0,u.Z)(),[d,y]=(0,l.tN)(),x=d.apiClient,C=async()=>{let t=x.apiGatewayUrl(),e=x.idToken();try{let i=await fetch("".concat(t,"/user/following/").concat(null==n?void 0:n.accountId),{method:"DELETE",headers:{Authorization:"".concat(e)}});if(!i.ok){let t=await i.text();throw Error(t)}c(),a()}catch(t){console.error(t),(0,o.yv)("".concat(t),{variant:"error"});return}};return(0,i.BX)(v.Z,{open:e,onClose:a,sx:{"& .MuiDialog-paper":{borderRadius:3}},children:[(0,i.tZ)(Z.Z,{children:"本当に登録解除しますか？"}),(0,i.BX)(m.Z,{css:(0,r.iv)({display:"flex",flexDirection:"column"}),children:[(0,i.BX)("div",{css:(0,r.iv)({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}),children:[(0,i.tZ)(f.Z,{css:(0,r.iv)({width:120,height:120,backgroundColor:s.palette.primary.main}),src:null==n?void 0:n.profilePictureUrl}),(0,i.tZ)(h.Z,{variant:"subtitle1",children:null==n?void 0:n.accountId})]}),(0,i.tZ)("div",{css:(0,r.iv)({display:"flex",justifyContent:"center",marginTop:"16px"}),children:(0,i.BX)(h.Z,{variant:"caption",css:(0,r.iv)({textAlign:"center"}),children:["実際に電話が来なくなるまで ",(0,i.tZ)("br",{}),"最大24時間かかります。ご了承ください。"]})})]}),(0,i.BX)(g.Z,{children:[(0,i.tZ)(p.Z,{onClick:a,children:"キャンセル"}),(0,i.tZ)(p.Z,{onClick:C,variant:"contained",color:"error",children:"解除する"})]})]})}var x=n(2362),C=n(20),w=n(291),k=n(7312),b=n(2258);function T(t){let e=t.match(/instagram\.com\/([^/?]+)/);return e?e[1]:null}function B(t){var e,n,a,c;let{open:d,onClose:y,onAdd:B}=t,X=(0,u.Z)(),[I,E]=(0,l.tN)(),D=I.apiClient,[S,P]=(0,s.useState)("enter-account");(0,s.useEffect)(()=>{d&&(P("enter-account"),A(void 0))},[d]);let L=(0,s.useRef)(null),_=(0,s.useRef)(null),[U,A]=(0,s.useState)(void 0),j=async()=>{var t;let e=null===(t=L.current)||void 0===t?void 0:t.value;if(!e){(0,o.yv)("アカウントUrlを入力してください。",{variant:"error"});return}let n=T(e);if(_.current={accountId:n||"",accountName:"",profilePictureUrl:""},!n){(0,o.yv)("アカウントURLが不正です。",{variant:"error"});return}let i=D.apiGatewayUrl(),r=D.idToken();try{let t=await fetch("".concat(i,"/streamers/").concat(n,"/support"),{method:"GET",headers:{Authorization:"".concat(r),"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error(e)}let e=await t.json();e.support?(_.current.accountName=e.account.account_name,_.current.profilePictureUrl=e.account.profile_picture_url,P("confirm")):P("error")}catch(t){console.error(t),(0,o.yv)("".concat(t),{variant:"error"});return}},R=async()=>{let t=D.apiGatewayUrl(),e=D.idToken(),n=_.current;if(!n){(0,o.yv)("アカウントURLが不正です。",{variant:"error"});return}try{let i=await fetch("".concat(t,"/user"),{method:"GET",headers:{Authorization:"".concat(e)}});if(!i.ok){let t=await i.text();throw Error(t)}let{following:r,billing_status:o,phone_number:a}=await i.json();for(let n of r)try{await fetch("".concat(t,"/user/following/").concat(n),{method:"DELETE",headers:{Authorization:"".concat(e)}})}catch(t){console.error(t)}{let i=await fetch("".concat(t,"/user/following"),{method:"POST",headers:{Authorization:"".concat(e),"Content-Type":"application/json"},body:JSON.stringify({streamer_id:n.accountId})});if(!i.ok){let t=await i.text();throw Error(t)}}if("unpaid"===o){window.location.href="".concat(l.X5);return}B(n),y()}catch(t){console.error(t),(0,o.yv)("".concat(t),{variant:"error"});return}};return(0,i.BX)(v.Z,{open:d,onClose:y,sx:{"& .MuiDialog-paper":{borderRadius:3}},children:[(0,i.tZ)(Z.Z,{children:"推しを追加"}),"enter-account"==S&&(0,i.BX)(i.HY,{children:[(0,i.BX)(m.Z,{css:(0,r.iv)({display:"flex",flexDirection:"column"}),children:[(0,i.BX)(x.Z,{variant:"standard",children:[(0,i.tZ)(C.Z,{children:"推しインスタアカウントURL"}),(0,i.tZ)(w.Z,{inputRef:L,onChange:t=>{A(T(t.target.value)||void 0)}})]}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",marginTop:"16px"}),children:[(0,i.tZ)(h.Z,{variant:"caption",children:"インスタグラムのプロフィールURLを貼り付けてください。"}),(0,i.tZ)(h.Z,{variant:"caption",children:"https://www.instagram.com/{アカウントID}"})]}),(0,i.tZ)(k.Z,{target:"_blank",rel:"noopener noreferrer",href:"https://star-anaconda-401.notion.site/URL-164d9d79105d80409dd1d6adc6afe106",css:(0,r.iv)({marginTop:"16px",textAlign:"center"}),children:"プロフィールURLの取得方法"}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"16px",visibility:void 0===U?"hidden":"visible"}),children:[(0,i.tZ)(h.Z,{variant:"subtitle1",children:"アカウント名"}),(0,i.tZ)(h.Z,{variant:"subtitle1",css:{},children:void 0===U?(null===(e=L.current)||void 0===e?void 0:e.value)?"不正なURLです":"未入力":U})]})]}),(0,i.BX)(g.Z,{children:[(0,i.tZ)(p.Z,{onClick:y,children:"キャンセル"}),(0,i.tZ)(p.Z,{variant:"contained",onClick:j,disabled:void 0===U,children:"登録する"})]})]}),"confirm"==S&&(0,i.BX)(i.HY,{children:[(0,i.BX)(m.Z,{css:(0,r.iv)({display:"flex",flexDirection:"column"}),children:[(0,i.tZ)(b.Z,{children:"このアカウントを推しに追加しますか？"}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"16px"}),children:[(0,i.tZ)(f.Z,{css:(0,r.iv)({width:120,height:120,backgroundColor:X.palette.primary.main}),src:null===(n=_.current)||void 0===n?void 0:n.profilePictureUrl}),(0,i.tZ)(h.Z,{variant:"subtitle1",children:null===(a=_.current)||void 0===a?void 0:a.accountId})]}),(0,i.tZ)(h.Z,{variant:"caption",css:(0,r.iv)({marginTop:"8px"}),children:"登録から電話が来るようになるまで 最大24時間かかります。ご了承ください。"})]}),(0,i.BX)(g.Z,{children:[(0,i.tZ)(p.Z,{onClick:y,children:"いいえ"}),(0,i.tZ)(p.Z,{variant:"contained",onClick:R,children:"登録する"})]})]}),"error"==S&&(0,i.BX)(i.HY,{children:[(0,i.BX)(m.Z,{css:(0,r.iv)({display:"flex",flexDirection:"column"}),children:[(0,i.tZ)(b.Z,{children:"このアカウントは登録できません。"}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:"16px"}),children:[(0,i.tZ)(f.Z,{css:(0,r.iv)({width:120,height:120,backgroundColor:X.palette.primary.main})}),(0,i.tZ)(h.Z,{variant:"subtitle1",children:null===(c=_.current)||void 0===c?void 0:c.accountId})]}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),children:[(0,i.tZ)(h.Z,{variant:"caption",css:(0,r.iv)({marginTop:"8px"}),children:"このアカウントは、クリエイター（またはビジネス）アカウントではないため登録できません。"}),(0,i.tZ)(k.Z,{children:"詳しくはこちら"})]})]}),(0,i.tZ)(g.Z,{children:(0,i.tZ)(p.Z,{onClick:()=>{A(void 0),P("enter-account")},children:"もどる"})})]})]})}var X=n(9689),I=n(5389),E=n(5860),D=n(4926);let S=(0,s.memo)(t=>{let{open:e,onClose:n}=t,[a,c]=(0,l.tN)(),d=a.apiClient,[u,f]=(0,s.useState)(""),[y,x]=(0,s.useState)(""),[C,w]=(0,s.useState)(!1),[k,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t=async()=>{b(!0);let t=d.apiGatewayUrl(),e=d.idToken();try{let n=await fetch("".concat(t,"/user/notification/settings"),{method:"GET",headers:{Authorization:"".concat(e)}});if(!n.ok){let t=await n.text();throw Error(t)}let i=await n.json();console.log(i),w(null!==i.schedule),null!==i.schedule&&(f(i.schedule.start),x(i.schedule.end))}catch(t){console.error(t),(0,o.yv)("通知時間の取得に失敗しました",{variant:"error"})}b(!1)};e&&t()},[e,d]);let T=async()=>{console.log("timeStart: ".concat(u)),console.log("timeEnd: ".concat(y));let t={schedule:null};if(C){if(""===u||""===y){(0,o.yv)("時間を入力してください",{variant:"error"});return}t.schedule={start:u,end:y}}let e=d.apiGatewayUrl(),i=d.idToken();try{let r=await fetch("".concat(e,"/user/notification/settings"),{method:"PUT",headers:{Authorization:"".concat(i),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let t=await r.text();throw Error(t)}(0,o.yv)("通知時間を保存しました",{}),n()}catch(t){console.error(t),(0,o.yv)("通知時間の保存に失敗しました",{variant:"error"})}};return(0,i.BX)(v.Z,{open:e,onClose:n,sx:{"& .MuiDialog-paper":{borderRadius:3}},children:[(0,i.tZ)(Z.Z,{children:"スケジュール設定"}),(0,i.BX)(m.Z,{css:(0,r.iv)({position:"relative"}),children:[k&&(0,i.tZ)(X.Z,{in:!0,style:{transitionDelay:"800ms",position:"absolute",top:0,left:0,right:0,bottom:0},children:(0,i.tZ)(I.Z,{css:(0,r.iv)({margin:"auto"})})}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",visibility:k?"hidden":"visible"}),children:[(0,i.tZ)(E.Z,{control:(0,i.tZ)(D.Z,{defaultChecked:!0,checked:C,onChange:t=>w(t.target.checked)}),label:"時間帯の設定をする"}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:8}),children:[(0,i.tZ)(h.Z,{css:(0,r.iv)({flex:1}),variant:"subtitle1",children:"開始"}),(0,i.tZ)("div",{css:(0,r.iv)({flex:1}),children:(0,i.tZ)("input",{type:"time",disabled:!C,value:u,onChange:t=>f(t.target.value)})})]}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"row",alignItems:"center",marginTop:8}),children:[(0,i.tZ)(h.Z,{css:(0,r.iv)({flex:1}),variant:"subtitle1",children:"終了"}),(0,i.tZ)("div",{css:(0,r.iv)({flex:1}),children:(0,i.tZ)("input",{type:"time",disabled:!C,value:y,onChange:t=>x(t.target.value)})})]})]})]}),(0,i.BX)(g.Z,{children:[(0,i.tZ)(p.Z,{onClick:n,children:"キャンセル"}),(0,i.tZ)(p.Z,{variant:"contained",onClick:T,children:"保存"})]})]})}),P=(0,s.memo)(t=>{let{followingList:e,onFollowingListChange:n}=t,o=(0,u.Z)(),a=e.length>0?e[0]:void 0,[c,l]=(0,s.useState)({open:!1,streamerAccount:void 0}),[d,v]=(0,s.useState)(!1),[Z,m]=(0,s.useState)(!1);return(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column"}),children:[(0,i.tZ)(h.Z,{variant:"h6",css:(0,r.iv)({fontWeight:"bold",margin:"auto"}),children:"推しインスタアカウント"}),(0,i.tZ)("div",{css:(0,r.iv)({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:"32px"}),children:a?(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[(0,i.tZ)(h.Z,{variant:"h6",css:(0,r.iv)({fontWeight:"bold",margin:"auto"}),children:a.accountId}),(0,i.tZ)(h.Z,{children:a.accountName}),(0,i.tZ)(f.Z,{css:(0,r.iv)({width:"200px",height:"200px",margin:"16px",backgroundColor:o.palette.primary.main}),src:a.profilePictureUrl}),(0,i.tZ)(p.Z,{variant:"text",color:"error",onClick:()=>{l({open:!0,streamerAccount:a})},children:"登録解除"}),(0,i.tZ)(p.Z,{css:(0,r.iv)({marginTop:"16px",alignSelf:"stretch"}),variant:"contained",onClick:()=>m(!0),children:"スケジュール設定"})]}):(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:[(0,i.tZ)(h.Z,{variant:"h6",css:(0,r.iv)({fontWeight:"bold",margin:"auto"}),children:"未登録"}),(0,i.tZ)(f.Z,{css:(0,r.iv)({width:"200px",height:"200px",margin:"16px",backgroundColor:o.palette.primary.main})}),(0,i.tZ)(p.Z,{variant:"contained",color:"primary",css:(0,r.iv)({alignSelf:"stretch"}),onClick:()=>{v(!0)},children:"推しを追加"})]})}),(0,i.tZ)(B,{open:d,onClose:()=>{v(!1)},onAdd:t=>{null==n||n([...e,t])}}),(0,i.tZ)(y,{open:c.open,streamerAccount:c.streamerAccount,onClose:()=>{l({open:!1,streamerAccount:void 0})},onUnsubscribe:()=>{null==n||n(e.filter(t=>{var e;return t.accountId!==(null===(e=c.streamerAccount)||void 0===e?void 0:e.accountId)}))}}),(0,i.tZ)(S,{open:Z,onClose:()=>{m(!1)}})]})});var L=n(9767);async function _(t,e){let n;for(let i=0;i<10;++i){let i=await fetch("".concat(t,"/user"),{method:"GET",headers:{Authorization:"".concat(e)}});if(!i.ok)throw Error(await i.text());let r=await i.json();if(console.log(r),"paid"===(n=r.billing_status)||0===r.following.length)break;await new Promise(t=>setTimeout(t,1e3))}return n}function U(){let[t]=(0,d.fl)(),e=(0,a.useRouter)(),[n,u]=(0,l.tN)(),h=n.apiClient,[f,p]=(0,s.useState)(void 0),[v,Z]=(0,s.useState)(void 0),m=async()=>{let t=h.apiGatewayUrl(),e=h.idToken();try{let n=await _(t,e);if(Z(n),void 0===n||"unpaid"===n){p([]);return}}catch(t){console.error(t),(0,o.yv)("".concat(t),{variant:"error"});return}try{let n=await fetch("".concat(t,"/user/following"),{method:"GET",headers:{Authorization:"".concat(e)}});if(!n.ok){let t=await n.text();throw Error(t)}let i=await n.json();console.log(i);let r=await Promise.all(i.map(async n=>{let i=await fetch("".concat(t,"/streamers/").concat(n),{method:"GET",headers:{Authorization:"".concat(e)}});if(!i.ok){let t=await i.text();throw Error(t)}let r=await i.json();return{accountId:r.account_id,accountName:r.account_name,profilePictureUrl:r.profile_picture_url}}));p(r)}catch(t){console.error(t),(0,o.yv)("".concat(t),{variant:"error"})}};return(0,s.useEffect)(()=>{let t=n.status;if(console.log(t),"unauthenticated"===t){e.push("/login");return}"loading"!==t&&"authenticated"===t&&m()},[n.status]),(0,i.BX)("div",{children:[(0,i.tZ)(c.Z,{}),(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",margin:"0 auto",maxWidth:"1040px",width:"100%",paddingTop:"80px",paddingLeft:"16px",paddingRight:"16px",minHeight:"100vh"}),children:[(0,i.tZ)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",flexGrow:1}),children:void 0===f?(0,i.tZ)(X.Z,{in:!0,style:{transitionDelay:"800ms"},children:(0,i.tZ)(I.Z,{css:(0,r.iv)({margin:"auto"})})}):(0,i.tZ)(i.HY,{children:(0,i.tZ)(P,{followingList:f,onFollowingListChange:t=>{p(t)}})})}),(0,i.tZ)("div",{css:(0,r.iv)({marginTop:"64px",marginBottom:"64px",display:"flex",justifyContent:"center"}),children:"paid"===v&&(0,i.tZ)(k.Z,{href:l.gC,children:"サブスクリプションを管理"})}),(0,i.tZ)("div",{css:(0,r.iv)({marginTop:"auto",alignSelf:"stretch"}),children:(0,i.tZ)(L.j,{css:(0,r.iv)({margin:"auto",maxWidth:"400px",paddingLeft:"16px",paddingRight:"16px"})})})]})]})}},8582:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=n(1595),r=n(1691),o=n(1495),a=n(1004),c=n(5002),l=n(3146),s=n(8236),d=n(7648);function u(){let t=(0,r.Z)().palette.text.primary;return(0,i.tZ)(o.Z,{position:"fixed",elevation:0,css:(0,l.iv)({backgroundColor:"transparent",color:t}),children:(0,i.tZ)(a.Z,{children:(0,i.BX)(d.default,{href:"/",css:(0,l.iv)({display:"flex",alignItems:"center",textDecoration:"none",color:"inherit"}),children:[(0,i.tZ)(s.K,{css:(0,l.iv)({marginRight:"8px"})}),(0,i.tZ)(c.Z,{variant:"h6",css:(0,l.iv)({fontWeight:"bold"}),children:"推しコール"})]})})})}},9767:function(t,e,n){"use strict";n.d(e,{j:function(){return a}});var i=n(1595),r=n(3146),o=n(7312);function a(t){return(0,i.tZ)("footer",{...t,children:(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"column",fontSize:"0.75rem",alignItems:"center",width:"100%",color:"#FFF"}),children:[(0,i.BX)("div",{css:(0,r.iv)({display:"flex",flexDirection:"row",justifyContent:"space-around",alignSelf:"stretch"}),children:[(0,i.tZ)(o.Z,{color:"inherit",href:"https://star-anaconda-401.notion.site/15dd9d79105d80a092ddfe3d9d1d140c",target:"_blank",children:"利用規約"}),(0,i.tZ)(o.Z,{color:"inherit",href:"https://star-anaconda-401.notion.site/15dd9d79105d80cd890dd26e0fdde81f",target:"_blank",children:"プライバシーポリシー"}),(0,i.tZ)(o.Z,{color:"inherit",href:"https://docs.google.com/forms/d/e/1FAIpQLSeP7muR9GAGUZ-V9IfDQEcqdBrvmWVURqexXh8Xt3OOOdo3QQ/viewform",target:"_blank",children:"お問い合わせ"})]}),(0,i.tZ)("div",{css:(0,r.iv)({marginTop:"8px",marginBottom:"8px"}),children:(0,i.tZ)(o.Z,{color:"inherit",href:"https://star-anaconda-401.notion.site/180d9d79105d807d95d0d00d2fffb762",target:"_blank",children:"特定商法取引に基づく表記"})})]})})}},8236:function(t,e,n){"use strict";n.d(e,{K:function(){return o}});var i=n(1595),r=n(8416);function o(t){return(0,i.tZ)(r.Z,{...t,children:(0,i.BX)("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.BX)("g",{"clip-path":"url(#clip0_676_7)",children:[(0,i.tZ)("path",{d:"M316.212 349.305C310.227 343.329 300.692 342.825 294.113 348.128L262.973 373.237C256.808 378.216 247.974 378.117 241.908 373.003C241.908 373.003 215.36 355.137 186.108 325.885C156.856 296.65 138.981 270.076 138.981 270.076C133.876 264.019 133.778 255.185 138.756 249.02L163.856 217.88C169.168 211.293 168.664 201.767 162.679 195.782L103.06 136.163C96.984 130.106 87.288 129.674 80.691 135.192L5.911 198.002C-0.0919976 203.052 -1.745 211.581 1.975 218.5C1.975 218.5 12.023 239.026 21.369 254.735C47.027 297.908 88.735 348.963 125.878 386.115C163.038 423.257 214.066 464.974 257.265 490.632C272.974 499.961 293.491 510.035 293.491 510.035C300.393 513.72 308.949 512.075 313.981 506.073L376.799 431.293C382.317 424.714 381.885 415.008 375.828 408.933L316.212 349.305Z"}),(0,i.tZ)("path",{d:"M330.906 269.349L355.727 265.413C351.531 239.009 339.2 213.532 318.818 193.158C298.472 172.812 273.003 160.482 246.582 156.267L242.637 181.08C264.035 184.531 284.533 194.416 301.051 210.935C317.578 227.452 327.481 247.96 330.906 269.349Z"}),(0,i.tZ)("path",{d:"M430.731 81.272C385.751 36.302 329.593 9.215 271.259 0.012001L267.359 24.834C320.677 33.264 371.813 57.924 412.946 99.048C454.07 140.172 478.721 191.343 487.16 244.644L512 240.726C502.779 182.383 475.693 126.242 430.731 81.272Z"}),(0,i.tZ)("path",{d:"M258.911 78.054L255.011 102.903C292.405 108.79 328.271 126.035 357.111 154.874C385.959 183.721 403.223 219.57 409.091 256.983L433.921 253.065C427.279 210.656 407.599 169.801 374.904 137.107C342.192 104.404 301.329 84.732 258.911 78.054Z"})]}),(0,i.tZ)("defs",{children:(0,i.tZ)("clipPath",{id:"clip0_676_7",children:(0,i.tZ)("rect",{width:"512",height:"512",fill:"white"})})})]})})}},156:function(t,e,n){"use strict";n.d(e,{X5:function(){return s},ZP:function(){return o},gC:function(){return l},st:function(){return v},tN:function(){return h},xh:function(){return a}});var i=n(1595),r=n(2265);let o="ap-northeast-1_QZrerTmNH",a="7ibhthrioi38cqgoh1a9lco365",c="https://w1w476hjrd.execute-api.ap-northeast-1.amazonaws.com/dev",l="https://billing.stripe.com/p/login/28o15W3A37ZO8koaEE",s="https://buy.stripe.com/28o6sdeqceVo7MkbIJ",d=(0,r.createContext)({apiClient:p(c,void 0),status:"loading"}),u=(0,r.createContext)(()=>{}),h=()=>{let t=(0,r.useContext)(d),e=(0,r.useContext)(u);return[t,(0,r.useMemo)(()=>({setStatus:t=>{e({type:"setStatus",payload:{status:t}})}}),[])]},f=(t,e)=>"setStatus"===e.type?{...t,status:e.payload.status}:t;function p(t,e){return{apiGatewayUrl:()=>t,idToken:()=>e,setNewIdToken:t=>{localStorage.setItem("idToken",t),e=t},restoreIdToken:async()=>{let n=localStorage.getItem("idToken");if(n)try{if(!(await fetch("".concat(t,"/user"),{method:"GET",headers:{Authorization:"".concat(n)}})).ok)throw Error("Unauthorized");return e=n,n}catch(t){console.error(t);return}}}}function v(t){let{children:e}=t,[n,o]=(0,r.useReducer)(f,{apiClient:p(c,void 0),status:"loading"}),a=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{a.current||(a.current=!0,n.apiClient.restoreIdToken().then(t=>{o({type:"setStatus",payload:{status:t?"authenticated":"unauthenticated"}})}))},[]),(0,i.tZ)(d.Provider,{value:n,children:(0,i.tZ)(u.Provider,{value:o,children:e})})}},3996:function(t,e,n){"use strict";n.d(e,{ThemeStoreProvider:function(){return Z},fl:function(){return p}});var i=n(1595),r=n(2987),o=n.n(r),a=n(2017),c=n(9163),l=n(9026),s=n(3448),d=n(2265),u=n(4049);let h=(0,d.createContext)({scheme:new s.S2(s.OP.fromInt(15896713),!1,0),sourceColor:15896713}),f=(0,d.createContext)(()=>{}),p=()=>{let t=(0,d.useContext)(h),e=(0,d.useContext)(f);return[t,{resetSourceColor:()=>{e({type:"setTheme",payload:{scheme:new s.S2(s.OP.fromInt(15896713),!1,0),sourceColor:15896713}})}}]},v=(t,e)=>{if("setTheme"===e.type){let{scheme:n,sourceColor:i}=e.payload;return t.sourceColor===i?t:{...t,scheme:n,sourceColor:i}}return t},Z=t=>{let{children:e}=t,[n,r]=(0,d.useReducer)(v,{scheme:new s.S2(s.OP.fromInt(15896713),!1,0),sourceColor:15896713}),p=(0,a.Z)((0,c.Z)({palette:{mode:"light",primary:{main:(0,s.PQ)(16777215),contrastText:(0,s.PQ)(3763801)},secondary:{main:(0,s.PQ)(s.YI.secondary.getArgb(n.scheme))},background:{default:(0,s.PQ)(15896713),paper:(0,s.PQ)(15896713)},error:{main:(0,s.PQ)(s.YI.error.getArgb(n.scheme))},text:{primary:(0,s.PQ)(3763801)}},typography:{fontFamily:o().style.fontFamily},components:{MuiLink:{defaultProps:{underline:"none"},styleOverrides:{root:{"&:hover":{textDecoration:"none"}}}},MuiDialogContentText:{styleOverrides:{root:{color:(0,s.PQ)(3763801)}}}}}));return(0,i.BX)(l.Z,{theme:p,children:[(0,i.tZ)(u.Z,{styles:t=>({body:{transition:t.transitions.create(["background-color","transform"])}})}),(0,i.tZ)(h.Provider,{value:n,children:(0,i.tZ)(f.Provider,{value:r,children:e})})]})}}},function(t){t.O(0,[780,477,972,654,487,73,550,971,117,744],function(){return t(t.s=2379)}),_N_E=t.O()}]);